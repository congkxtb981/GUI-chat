<!DOCTYPE html>
<html lang="en">

<head>
    <title> Chat</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="shortcut icon" href="./libraries/images/logo_favicon/favicon.png" />
    <link rel="stylesheet" href="./libraries/bower_components/bootstrap/dist/css/bootstrap.css">
    <link rel="stylesheet" href="./libraries/bower_components/font-awesome/css/font-awesome.css">
    <link rel="stylesheet" href="./libraries/bower_components/AlertifyJS/build/css/alertify.css">
    <link rel="stylesheet" href="./libraries/bower_components/emojionearea/dist/emojionearea.min.css">
    <link rel="stylesheet" href="./libraries/bower_components/photoset-grid/css/colorbox.css">

    <link rel="stylesheet" href="./libraries/css/style.css">
</head>

<body onload="spinLoaded()">
    <!--Icon loader-->
    <div id="loader"></div>

    <div class="master-success-message alert alert-success">Success example</div>

    <!-- include('navbar'); -->
    <nav class="navbar navbar-inverse no-margin-bottom">
        <div class="container-fluid">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <div class="navbar-header col-sm-3 col-xs-4 navbar-left">
                <a class="navbar-brand" href="https://fb.com/congkxtb2000/" target="__blank">
                    <!-- <img src="./libraries/images/logo_favicon/logo.png" alt="logo"> -->
                    <p> OK</p>
                </a>
            </div>
            <div class="col-sm-3 col-xs-12 ">
                <ul class="nav navbar-nav navbar-left no-padding-start">
                    <li>
                        <input type="text" name="search" class="searchBox" placeholder="Tìm kiếm tên cuộc trò chuyện">
                        <div id="search-results">
                            <h3>Kết quả</h3>
                            <div class="search_content">
                                <ul></ul>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
            <div class="collapse navbar-collapse col-sm-6 col-xs-12  navbar-right" id="myNavbar">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/" title="Trang chủ">
                            <i class="fa fa-home"></i>
                        </a>
                    </li>
                    <li>
                        <a href="#contactsmodal" data-toggle="modal" title="Quản lý liên lạc" id="show-modal-contacts">
                            <i class="fa fa-user-plus"></i>
                            <div class="noti_contact_counter">100</div>
                        </a>
                    </li>
                    <li>
                        <a href="#contactsmodal" id="noti_Button" data-toggle="modal" title="Thông báo">
                            <i class="fa fa-globe"></i>
                            <div class="noti_counter" style="display: block;">30</div>
                            <div id="noti_Container">
                                <div id="notifications">
                                    <h3>Thông báo</h3>
                                    <div class="noti_content">
                                        <span data-uid="${ user.id }">
                                            <img class="avatar-small"
                                                src="./libraries/images/users/default-avatar-01.jpg" alt="">
                                            <strong>Công Cool</strong> đã chấp nhận lời mời kết bạn của bạn!
                                        </span><br><br><br>

                                        <span data-uid="${ user.id }">
                                            <img class="avatar-small"
                                                src="./libraries/images/users/default-avatar-02.jpg" alt="">
                                            <strong>Công Cool</strong> đã gửi cho bạn một lời mời kết bạn!
                                        </span><br><br><br>
                                    </div>
                                    <div class="seeAll"><a href="#">Xem tất cả</a></div>
                                </div>
                            </div>
                        </a>
                    </li>
                    <li class="dropdown" id="dropdown-navbar-user" data-uid="user._id">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                            <img class="avatar-small" src="./libraries/images/users//default-avatar-02.jpg" alt="">
                            Công Cool
                            <span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="#user-profile-modal" data-toggle="modal">
                                    <i class="fa fa-cog"></i>
                                    &nbsp;Cài đặt tài khoản
                                </a>
                            </li>
                            <li>
                                <a href="/logout">
                                    <i class="fa fa-sign-out"></i>
                                    &nbsp;Đăng xuất
                                </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>




    <!--Libraries-->
    <script src="./libraries/bower_components/jquery/dist/jquery.min.js"></script>
    <script src="./libraries/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.1.1/socket.io.js"></script>
    <script src="./libraries/bower_components/jquery.nicescroll/jquery.nicescroll.min.js"></script>
    <script src="./libraries/bower_components/AlertifyJS/build/alertify.js"></script>
    <script src="./libraries/bower_components/moment/min/moment.min.js"></script>
    <script src="./libraries/bower_components/moment/min/moment-with-locales.min.js"></script>
    <script src="./libraries/bower_components/emojionearea/dist/emojionearea.min.js"></script>
    <script src="./libraries/bower_components/peerjs/peer.min.js"></script>
    <script src="./libraries/bower_components/sweetalert2/dist/sweetalert2.all.min.js"></script>
    <script src="./libraries/bower_components/photoset-grid/jquery.photoset-grid.min.js"></script>
    <script src="./libraries/bower_components/jquery-colorbox/jquery.colorbox-min.js"></script>

    <!-- My js-->
    <script src="./libraries/js/mainConfig.js"></script>


    <div class="modal fade" id="contactsmodal" role="dialog">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Quản lý liên lạc</h4>
                </div>
                <div class="modal-body">
                    <ul class="nav nav-tabs">
                        <li class="active"><a data-toggle="tab" href="#find-user">Tìm người dùng</a></li>
                        <li><a data-toggle="tab" id="link-contacts" href="#contacts">
                                Danh bạ <span class="show-number-contacts count-contacts">(100)</span>
                            </a></li>
                        <li><a data-toggle="tab" id="link-request-contact-sent" href="#request-contact-sent">
                                Đang chờ xác nhận <span
                                    class="show-number-contacts count-request-contact-sent">(100)</span>
                            </a></li>
                        <li><a data-toggle="tab" id="link-request-contact-received" href="#request-contact-received">
                                Yêu cầu kết bạn <span
                                    class="show-number-contacts count-request-contact-received">(100)</span>
                            </a></li>
                    </ul>
                    <div class="tab-content">
                        <div id="find-user" class="tab-pane fade in active">
                            <div class="find-user-top">
                                <div class="input-group col-md-12">
                                    <input id="input-find-user-to-add-friend" type="text" class="form-control"
                                        placeholder="Nhập E-mail hoặc username..." autocomplete="off" />
                                    <span class=" input-group-btn">
                                        <button id="btn-find-user-to-add-friend" class="btn btn-lg" type="button">
                                            <i class="glyphicon glyphicon-search"></i>
                                        </button>
                                    </span>
                                </div>
                            </div>
                            <div class="find-user-bottom">
                                <ul class="contactList">
                                    <li class="_contactList" data-uid="<%=user._id%>">
                                        <div class="contactPanel">
                                            <div class="user-avatar">
                                                <img src="images/users/avatar-default.jpg" alt="">
                                            </div>
                                            <div class="user-name">
                                                <p>
                                                    Cong cool
                                                </p>
                                            </div>
                                            <br>
                                            <div class="user-address">
                                                <span>&nbsp Thai Ninh </span>
                                            </div>
                                            <div class="user-add-new-contact" data-uid="<%=user._id%>">
                                                Thêm vào danh sách liên lạc
                                            </div>
                                            <div class="user-remove-request-contact action-danger"
                                                data-uid="<%=user._id%>">
                                                Hủy yêu cầu
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div id="contacts" class="tab-pane fade">
                            <div class="find-user-bottom">
                                <ul class="contactList">
                                    <li class="_contactList" data-uid="user._id">
                                        <div class="contactPanel">
                                            <div class="user-avatar">
                                                <img src="images/users/default-avatar-01.jpg" alt="">
                                            </div>
                                            <div class="user-name">
                                                <p>
                                                    Công Cool
                                                </p>
                                            </div>
                                            <br>
                                            <div class="user-address">
                                                <span>&nbsp Hà Nội, Việt Nam.</span>
                                            </div>
                                            <div class="user-talk" data-uid="user._id">
                                                Trò chuyện
                                            </div>
                                            <div class="user-remove-contact action-danger" data-uid="user._id">
                                                Xóa liên hệ
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div id="request-contact-sent" class="tab-pane fade">
                            <div class="find-user-bottom">
                                <ul class="contactList">
                                    <li class="_contactList" data-uid="user._id">
                                        <div class="contactPanel">
                                            <div class="user-avatar">
                                                <img src="images/users/default-avatar-01.jpg" alt="">
                                            </div>
                                            <div class="user-name">
                                                <p>
                                                    Công Cool
                                                </p>
                                            </div>
                                            <br>
                                            <div class="user-address">
                                                <span>&nbsp Hà Nội, Việt Nam.</span>
                                            </div>
                                            <div class="user-remove-request-sent action-danger" data-uid="user._id">
                                                Hủy yêu cầu
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div id="request-contact-received" class="tab-pane fade">
                            <div class="find-user-bottom">
                                <ul class="contactList">
                                    <li class="_contactList" data-uid="user._id">
                                        <div class="contactPanel">
                                            <div class="user-avatar">
                                                <img src="images/users/default-avatar-01.jpg" alt="">
                                            </div>
                                            <div class="user-name">
                                                <p>
                                                    Công Cool
                                                </p>
                                            </div>
                                            <br>
                                            <div class="user-address">
                                                <span>&nbsp Hà Nội, Việt Nam.</span>
                                            </div>
                                            <div class="user-acccept-contact-received" data-uid="user._id">
                                                Chấp nhận
                                            </div>
                                            <div class="user-reject-request-contact-received action-danger"
                                                data-uid="user._id">
                                                Xóa yêu cầu
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="streamModal" role="dialog">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Streaming Video & Audio</h4>
                </div>
                <div class="modal-body">
                    <video id="remote-stream" width="500" controls style="margin-left: 20%;"></video>
                    <br><br>
                    <video id="local-stream" width="170" controls style="margin-left: 20%;"></video>
                    <br><br>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="imagesmodal" role="dialog">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">All Images in this conversation.</h4>
                </div>
                <div class="modal-body">
                    <div class="all-images" style="visibility: hidden;">
                        <img src="./libraries/images/users/default-avatar-01.jpg">
                        <img src="./libraries/images/users/default-avatar-02.jpg">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="attachsmodal" role="dialog">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">All Attachs in this conversation.</h4>
                </div>
                <div class="modal-body">
                    <ul class="list-attachs">
                        <li>
                            <a href="fileExample/Tệp văn bản - CongCool.pdf" download="${ item.file.fileName }">
                                Tệp văn bản - CongCool.pdf
                            </a>
                        </li>
                        <li>
                            <a href="fileExample/Tệp văn bản - CongCooldocx" download="${ item.file.fileName }">
                                Tệp văn bản - CongCool.docx
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="user-profile-modal" role="dialog">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Tài khoản cá nhân</h4>
                </div>
                <div class="modal-body">
                    <ul class="nav nav-tabs">
                        <li class="active"><a data-toggle="tab" href="#seting-profile">Cài đặt chung</a></li>
                        <li><a data-toggle="tab" id="link-to-password-profile" href="#password-profile">Quản lý mật
                                khẩu</a></li>
                    </ul>
                    <div class="tab-content">
                        <div id="seting-profile" class="tab-pane fade in active">
                            <div class="row">
                                <form class="form-horizontal" method="post" role="form" action="">
                                    <!-- left column -->
                                    <div class="col-md-3">
                                        <div class="text-center" id="div-update-avatar">
                                            <div id="image-edit-profile">
                                                <img src="./libraries/images/users/default-avatar-01.jpg"
                                                    class="avatar img-circle" alt="avatar">
                                            </div>
                                            <h6>Tải lên một ảnh mới...</h6>
                                            <input type="file" class="form-control" id="input-change-avatar"
                                                name="avatar"><br>
                                            <div id="show-button-update-avatar"></div>
                                        </div>
                                    </div>
                                    <!-- edit form column -->
                                    <div class="col-md-9 personal-info">
                                        <div class="alert alert-danger alert-dismissable">
                                            <a class="panel-close close" data-dismiss="alert">×</a>
                                            Update user error example.<br>
                                            <!-- <script>openProfileModal();</script> -->
                                        </div>

                                        <div class="alert alert-success alert-dismissable">
                                            <a class="panel-close close" data-dismiss="alert">×</a>
                                            Update user success example.<br>
                                            <!-- <script>openProfileModal();</script> -->
                                        </div>

                                        <h3>Local account.</h3>
                                        <h3>Facebook account.</h3>
                                        <h3>Google account.</h3>

                                        <br>
                                        <div class="form-group">
                                            <label class="col-lg-3 control-label">Email:</label>
                                            <div class="col-lg-8">
                                                <div class="form-control" disabled>fb.com/congkxtb2000</div>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-3 control-label">Username:</label>
                                            <div class="col-md-8">
                                                <input class="form-control" type="text" name="username"
                                                    value="Công Cool">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-lg-3 control-label"> Giới tính:</label>
                                            <div class="col-lg-8">
                                                <label class="radio-inline col-lg-2">Nam
                                                    <input type="radio" name="gender" value="male" checked required>
                                                    <span class="checkmark"></span>
                                                </label>
                                                <label class="radio-inline col-lg-2">Nữ
                                                    <input type="radio" name="gender" value="female" required>
                                                    <span class="checkmark"></span>
                                                </label>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-lg-3 control-label">Địa chỉ:</label>
                                            <div class="col-lg-8">
                                                <input class="form-control" type="text" name="address"
                                                    value="Hà Nội, Việt Nam">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-lg-3 control-label">Số điện thoại:</label>
                                            <div class="col-lg-8">
                                                <input class="form-control" type="text" name="phone" value="0123456789">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-3 control-label"></label>
                                            <div class="col-md-8">
                                                <input type="submit"
                                                    class="btn btn-primary custom-background-btn-primary" name="submit"
                                                    value="Lưu lại">
                                                <span></span>
                                                <input type="reset" class="btn btn-default custom-background-btn-reset"
                                                    value="Hủy bỏ">
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                        <div id="password-profile" class="tab-pane fade">
                            <div class="col-md-9 personal-info">
                                <div class="alert alert-danger alert-dismissable">
                                    <a class="panel-close close" data-dismiss="alert">×</a>
                                    Update password error example<br>
                                    <!-- <script>openProfilePasswordModal();</script> -->
                                </div>

                                <div class="alert alert-success alert-dismissable">
                                    <a class="panel-close close" data-dismiss="alert">×</a>
                                    Update password success example<br>
                                    <!-- <script>openProfilePasswordModal();</script> -->
                                </div>

                                <h3>Thay đổi mật khẩu</h3>
                                <br>
                                <form class="form-horizontal" method="post" role="form" action="">
                                    <div class="form-group">
                                        <label class="col-md-4 control-label">Mật khẩu cũ</label>
                                        <div class="col-md-8">
                                            <input class="form-control" type="password" name="current_password"
                                                placeholder="Enter your curent password...">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-md-4 control-label">Mật khẩu mới</label>
                                        <div class="col-md-8">
                                            <input class="form-control" type="password" name="new_password"
                                                placeholder="Enter new password...">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-md-4 control-label">Nhập lại mật khẩu mới</label>
                                        <div class="col-md-8">
                                            <input class="form-control" type="password" name="confirm_new_password"
                                                placeholder="Enter confirm new password...">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-md-4 control-label"></label>
                                        <div class="col-md-8">
                                            <input type="submit" class="btn btn-primary custom-background-btn-primary"
                                                value="Lưu lại">
                                            <span></span>
                                            <input type="reset" class="btn btn-default custom-background-btn-reset"
                                                value="Hủy bỏ">
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- include('./groupChat/groupChatModal'); -->
    <div class="modal fade" id="groupChatModal" role="dialog">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Tạo một nhóm trò chuyện mới.</h4>
                </div>
                <div class="modal-body">
                    <div class="col-md-5 col-sm-12 find-user-add-to-group">
                        <div class="row form-search-to-add">
                            <div class="form-group">
                                <input type="text" class="form-control" id="btn-search-friend-to-add-group-chat"
                                    placeholder="Nhập E-mail hoặc username của bạn bè..." />
                                <span class="input-group-btn">
                                    <button class="btn btn-lg" type="button">
                                        <i class="glyphicon glyphicon-search"></i>
                                    </button>
                                </span>
                            </div>
                        </div>
                        <div class="row result-searched">
                            <ul id="group-chat-friends">
                                <div data-uid="test-uid-01">
                                    <li data-uid="test-uid-01">
                                        <div class="contactPanel">
                                            <div class="user-avatar">
                                                <img src="images/users/avatar-default.jpg" alt="">
                                            </div>
                                            <div class="user-name">
                                                <p>
                                                    Công Cool
                                                </p>
                                            </div>
                                            <br>
                                            <div class="user-address">
                                                <span>&nbsp Hà Nội, Việt Nam</span>
                                            </div>
                                            <div class="add-user" data-uid="test-uid-01">
                                                Thêm vào nhóm
                                            </div>
                                        </div>
                                    </li>
                                </div>
                                <div data-uid="test-uid-02">
                                    <li data-uid="test-uid-02">
                                        <div class="contactPanel">
                                            <div class="user-avatar">
                                                <img src="images/users/default-avatar-02.jpg" alt="">
                                            </div>
                                            <div class="user-name">
                                                <p>
                                                    Công Cool
                                                </p>
                                            </div>
                                            <br>
                                            <div class="user-address">
                                                <span>&nbsp Hà Nội, Việt Nam</span>
                                            </div>
                                            <div class="add-user" data-uid="test-uid-02">
                                                Thêm vào nhóm
                                            </div>
                                        </div>
                                    </li>
                                </div>
                            </ul>
                        </div>
                    </div>
                    <div class="col-md-5 col-sm-12 list-user-added">
                        <ul id="friends-added"></ul>
                        <div class="text-center" id="action-create-name-chat">
                            <input type="text" class="form-control" id="name-group-chat"
                                placeholder="Nhập tên nhóm trò chuyện..." />
                            <br>
                            <button type="button" class="btn btn-primary" id="create-group-chat">Tạo</button>
                            <button type="button" class="btn btn-danger" id="cancel-group-chat">Hủy</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</body>

</html>